(this["webpackJsonpweb-slate"]=this["webpackJsonpweb-slate"]||[]).push([[0],{25:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),o=n.n(i),c=(n(30),n(31),n(32),n(12)),l=n(2),s=r.a.createContext({}),u=r.a.createContext({}),d=r.a.createContext({}),f=function(e){var t=e.guid,n=e.children,a=r.a.useState([]),i=Object(l.a)(a,2),o=i[0],s=i[1],d=r.a.useState(!1),f=Object(l.a)(d,2),h=f[0],m=f[1];r.a.useEffect((function(){s([])}),[t]);return r.a.createElement(u.Provider,{value:{slatePattern:o,loadData:function(e){s([].concat(Object(c.a)(o),[e]))},renderData:h,toggleRender:function(){m(!h)}}},n)},h=function(e){var t=e.islocked,n=e.children,a=r.a.useState(t||!1),i=Object(l.a)(a,2),o=i[0],c=i[1];return r.a.createElement(s.Provider,{value:{islocked:o,setIsLocked:function(e){c(e)},toggleLock:function(){c(!o)}}},n)},m=n(3),E=function(e,t,n,a,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.strokeStyle=a,e.lineWidth=1,e.stroke(),e.closePath()},v=function(e,t,n,a,r,i,o){if(e)for(var c=p(o,a,r),l=b(i,a,r),s=1;s<=1;s++){var u=n+r*s,d="grey";t<c&&E(e,{x:0,y:u},{x:i,y:u},d),t<l&&E(e,{x:u,y:0},{x:u,y:o},d="grey")}};function b(e,t,n){return Math.floor(e/n)}function p(e,t,n){return Math.floor(e/n)}var y=function(e,t,n,a,r){if(e)for(var i=1;i<=5;i++){var o=n+4.5*t+a*i,c="blue";2===i||3===i?c="red":5===i&&(c="transparent",o-=.5*a),E(e,{x:0,y:o},{x:r,y:o},c)}},g=function(e,t,n,a,r){if(e)for(var i=1;i<=1;i++){var o=n+t+a*i;E(e,{x:0,y:o},{x:r,y:o},"blue")}},w=function(e,t,n,a,r){if(e)for(var i=1;i<=3;i++){var o=n+2.5*t+a*i,c="grey";3===i&&(c="transparent",o-=.5*a),E(e,{x:0,y:o},{x:r,y:o},c)}},x=function(e,t,n,a,r,i){e&&(t===k.FOURLINE?function(e,t,n,a,r){for(var i=Math.floor((r-t)/(4.5*n)),o=0;o<i;o++){y(e,o*n,t,n,a)}}(e,n,a,r,i):t===k.TWOLINE?function(e,t,n,a,r){for(var i=Math.floor((r-t)/(2.5*n)),o=0;o<i;o++){w(e,o*n,t,n,a)}}(e,n,a,r,i):t===k.SINGLELINE?function(e,t,n,a,r){for(var i=Math.floor((r-t)/n),o=0;o<i;o++){g(e,o*n,t,n,a)}}(e,n,a,r,i):t===k.CHECKED&&function(e,t,n,a,r){for(var i=p(a,t,100),o=b(r,t,100),c=0;c<i||c<o;c++){v(e,c,100*c,t,100,a,r)}}(e,n,0,r,i))},S=768,C=1024,L=2560;var O,I=function(){var e=r.a.useState({width:void 0,height:void 0}),t=Object(l.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n};!function(e){e[e.MOBILE=0]="MOBILE",e[e.TABLET=1]="TABLET",e[e.LAPTOP=2]="LAPTOP",e[e.DEKTOP=3]="DEKTOP"}(O||(O={}));var k,j=function(){var e=I(),t=r.a.useState(O.MOBILE),n=Object(l.a)(t,2),a=n[0],i=n[1];return r.a.useEffect((function(){e.width&&e.width>=L?i(O.DEKTOP):e.width&&e.width>=C?i(O.LAPTOP):e.width&&e.width>=S&&i(O.TABLET)}),[e]),a},T=function(e){var t=document.createElement("canvas");t.style.border="1px solid red";var n=2*e+10;t.width=50,t.height=50,console.log({brushSize:e,radius:n,width:t.width,height:t.height});var a=t.getContext("2d");if(a){a.fillStyle="#9e9e9e",a.fillRect(0,0,25,25);var r=t.toDataURL("image/png");document.body.style.cursor="url("+r+"), auto"}};!function(e){e[e.MATHS=0]="MATHS",e[e.TAMIL=1]="TAMIL",e[e.ENGLISH=2]="ENGLISH",e[e.SKETCH=3]="SKETCH",e[e.FOURLINE=4]="FOURLINE",e[e.TWOLINE=5]="TWOLINE",e[e.SINGLELINE=6]="SINGLELINE",e[e.CHECKED=7]="CHECKED"}(k||(k={}));var z=function(e){var t=e.clearScreenAction,n=e.brushSize,i=e.slateScreenType,o=r.a.useRef(null),f=r.a.useRef(null),h=r.a.useRef(null),m=r.a.useRef(null),E=r.a.useState(!1),v=Object(l.a)(E,2),b=v[0],p=v[1],y=r.a.useState(!1),g=Object(l.a)(y,2),w=g[0],S=g[1],C=r.a.useState([]),L=Object(l.a)(C,2),I=L[0],k=L[1],z=r.a.useState(window.innerHeight-50),N=Object(l.a)(z,2),W=N[0],M=N[1],R=j(),D=r.a.useState(window.innerWidth-50),P=Object(l.a)(D,2),B=P[0],F=P[1],H=r.a.useState(function(e){return e===O.MOBILE?40:35}(R)),A=Object(l.a)(H,1)[0],K=r.a.useState(!1),U=Object(l.a)(K,1)[0],G=r.a.useContext(s).islocked,X=r.a.useContext(d).brushColor,Y=r.a.useState(X),J=Object(l.a)(Y,2),$=J[0],q=J[1];r.a.useEffect((function(){}),[X]);var Q=r.a.useContext(u),V=Q.renderData,Z=Q.slatePattern,_=Q.loadData,ee=r.a.useCallback((function(){var e=f.current,t=o.current;e&&t&&e.clearRect(0,0,B,W)}),[W,B]);r.a.useEffect((function(){var e,t,n,a,r=null===(e=document)||void 0===e||null===(t=e.getElementById("myDiv"))||void 0===t?void 0:t.offsetHeight,i=null===(n=document)||void 0===n||null===(a=n.getElementById("myDiv"))||void 0===a?void 0:a.offsetWidth;r&&M(r),i&&F(i)}),[]),r.a.useEffect((function(){if(h&&h.current&&o&&o.current){var e=h.current,t=o.current;e.width=B,e.height=W,t.width=B,t.height=W;var a=e.getContext("2d"),r=t.getContext("2d");a&&r&&(a.strokeStyle="black",a.lineWidth=n,m.current=a,r.strokeStyle="black",r.lineWidth=n,f.current=r)}}),[B,W,n]),r.a.useEffect((function(){if(!G){var e=.75*A,t=f.current;t&&(ee(),x(t,i,e,A,B,W))}}),[i,W,B,U,G,A,ee]),r.a.useEffect((function(){console.log("isDrawing",b)}),[b]),r.a.useEffect((function(){console.log("clearScreenAction",t),G||(q(X),t?T(n):document.body.style.cursor="default")}),[X,t,i,n,G]);var te=function(e){var n=e.offsetX,a=e.offsetY,r=m.current;r&&(t?(r.clearRect(n,a+7,25,25),S(!0)):(r.beginPath(),r.moveTo(n,a),p(!0),k([])))},ne=function(){var e=m.current;e&&(t||(e.closePath(),_({pattern:I,strokeStyle:null===e||void 0===e?void 0:e.strokeStyle,lineWidth:null===e||void 0===e?void 0:e.lineWidth}),p(!1)),S(!1))},ae=Object(a.useCallback)((function(e,n,a,r){var i=m.current;i&&(t?i.clearRect(e,n+7,25,25):(i.lineTo(e,n),i.strokeStyle=a,i.lineWidth=r,i.stroke()))}),[t]);r.a.useEffect((function(){V&&Z.forEach((function(e){var t=m.current;t&&(t.beginPath(),e.pattern.forEach((function(t){return ae(t.x,t.y,(null===e||void 0===e?void 0:e.strokeStyle)||$,e.lineWidth||n)})),t.closePath())}))}),[n,$,ae,V,Z]);var re=function(e){if(b||w){var t=e.offsetX,a=e.offsetY;ae(t,a,$,n),b&&function(e){var t=e.offsetX,n=e.offsetY;k([].concat(Object(c.a)(I),[{x:t,y:n}]))}(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"}},r.a.createElement("div",{id:"myDiv",style:{flexDirection:"column",justifyContent:"center",border:"1px solid grey",height:"".concat(window.innerHeight-100,"px"),width:"".concat(window.innerWidth-10,"px")}},r.a.createElement("div",{id:"canvasesdiv",style:{position:"relative"}},r.a.createElement("canvas",{ref:o,style:{zIndex:1,position:"absolute",height:"".concat(window.innerHeight-110,"px"),width:"".concat(window.innerWidth-10,"px")}}),r.a.createElement("canvas",{style:{zIndex:2,position:"absolute",height:"".concat(window.innerHeight-110,"px"),width:"".concat(window.innerWidth-10,"px")},onMouseDown:function(e){!G&&te(e.nativeEvent)},onMouseUp:function(){!G&&ne()},onMouseMove:function(e){!G&&re(e.nativeEvent)},onTouchStart:function(e){var t=e.touches[0],n=new MouseEvent("mousedown",{clientX:t.clientX-10,clientY:t.clientY-50});!G&&te(n)},onTouchEnd:function(){!G&&ne()},onTouchMove:function(e){var t=e.touches[0],n=new MouseEvent("mousemove",{clientX:t.clientX-10,clientY:t.clientY-50});!G&&re(n)},ref:h})))))},N=n(4),W=n(5),M=n(6),R=375,D=425,P=768,B=1024,F=1440,H=2560,A={mobileS:"(min-width: ".concat(320,"px)"),mobileM:"(min-width: ".concat(R,"px)"),mobileL:"(min-width: ".concat(D,"px)"),tablet:"(min-width: ".concat(P,"px)"),laptop:"(min-width: ".concat(B,"px)"),laptopL:"(min-width: ".concat(F,"px)"),desktop:"(min-width: ".concat(H,"px)"),desktopL:"(min-width: ".concat(H,"px)")};function K(){var e=Object(W.a)(["\n  justify-content: flex-end;\n  align-items: center;\n  margin-right: 10px;\n  font-size: ",";\n  border: none;\n"]);return K=function(){return e},e}function U(){var e=Object(W.a)(["\n  height: ",";\n  width: ",";\n"]);return U=function(){return e},e}function G(){var e=Object(W.a)(["\n  display: flex;\n  width: ",";\n  height: ",";\n  flex-direction: ",";\n  border: ",";\n  background-color: ",";\n"]);return G=function(){return e},e}var X=M.a.div(G(),(function(e){return e.width||"100%"}),(function(e){return e.height||"100%"}),(function(e){return e.compType||"row"}),(function(e){return e.border||"1px solid #f3cdc1"}),(function(e){return e.bgColor||"transparent"})),Y=M.a.div(U(),(function(e){return e.height||"100%"}),(function(e){return e.width||"100%"})),J=Object(M.a)(X)(K(),(function(e){return e.fontSize?"".concat(.6*e.fontSize,"px"):"15px"})),$=function(){var e=r.a.useContext(d),t=e.brushColor,n=e.setBrushColor;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{border:"none",style:{display:"flex",justifyContent:"space-between",height:"100%"}},r.a.createElement(X,{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",border:"none",width:"40%"}},r.a.createElement(N.a,{icon:m.g,size:"sm",color:"#e91e63"}),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("label",{htmlFor:""}," Color Picker ")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:"100%",width:"60%"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"color",value:t,onChange:function(e){e.target.value&&"rgba(0, 0, 0, 0)"!==e.target.value.trim()&&n(e.target.value)}}),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",{style:{fontSize:"0.875rem",borderRadius:"25px",padding:"0.25rem 0.5rem",border:"1px solid grey",color:"white",backgroundColor:"".concat(t)}},t)))))},q=function(e){var t=e.brushSize,n=e.setbrushSize;return r.a.createElement(X,{border:"none",style:{display:"flex",justifyContent:"space-between",height:"100%"}},r.a.createElement(X,{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",border:"none",width:"40%"}},r.a.createElement(N.a,{icon:m.f,size:"sm",color:"#0d6efd"}),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("label",{htmlFor:""}," Brush Size ")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:"100%",width:"60%"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{style:{width:"100px"},width:"30",id:"typeinp",type:"range",min:"1",max:"25",value:t,onChange:function(e){n(parseInt(e.target.value)||1)},step:"1"}),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",{style:{fontSize:"0.875rem",borderRadius:"25px",padding:"0.25rem 0.5rem",border:"1px solid grey",color:"white",backgroundColor:"grey"}},"".concat(t>9?t:"0"+t)))))},Q=n(21),V=n(22),Z=n(24),_=n(23),ee=document.getElementById("modal-root"),te=function(e){Object(Z.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(Q.a)(this,n),(a=t.call(this,e)).el=void 0,a.el=document.createElement("div"),a}return Object(V.a)(n,[{key:"componentDidMount",value:function(){null===ee||void 0===ee||ee.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){null===ee||void 0===ee||ee.removeChild(this.el)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}]),n}(a.Component);function ne(){var e=Object(W.a)(["\n  justify-content: center;\n  align-items: center;\n  border: none;\n  @media "," {\n    width: 85%;\n    height: auto;\n  }\n  @media "," {\n    width: 65%;\n    height: auto;\n  }\n  @media "," {\n    width: 45%;\n  }\n\n  @media "," {\n    flex-basis: 30%;\n  }\n"]);return ne=function(){return e},e}var ae=Object(M.a)(X)(ne(),A.mobileS,A.tablet,A.laptop,A.desktop),re=function(e){var t=e.close,n=e.brushSize,a=e.setbrushSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null,r.a.createElement("div",{className:"modal"},r.a.createElement(ae,{compType:"column",bgColor:"white",height:"35%",style:{borderRadius:"10px",backgroundColor:"white",padding:"5px"}},r.a.createElement(Y,{height:"5px"}),r.a.createElement(X,{border:"none",style:{justifyContent:"center",alignItems:"center",height:"50px",borderBottom:"1px solid brown"},compType:"column"},r.a.createElement("h3",null," Settings ")),r.a.createElement(Y,{height:"5px"}),r.a.createElement(X,{border:"none",style:{justifyContent:"center",alignItems:"center",height:"50px"}},r.a.createElement(q,{brushSize:n,setbrushSize:a})),r.a.createElement(Y,{height:"5px"}),r.a.createElement(X,{border:"none",style:{justifyContent:"center",alignItems:"center",height:"50px"}},r.a.createElement($,null)),r.a.createElement(J,{height:"60px",style:{justifyContent:"center"}},r.a.createElement("button",{type:"button",onClick:t,className:"btn btn-danger btn-sm"},"Close"))))))},ie=function(e){var t=e.brushSize,n=e.setbrushSize,a=r.a.useState(!1),i=Object(l.a)(a,2),o=i[0],c=i[1],s=r.a.createRef(),u=j();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{ref:s,style:{borderRadius:"".concat(u!==O.MOBILE?"25px":"50px"),border:"1px solid grey"},onClick:function(){return c(!o)},className:"btn btn-default btn-sm"},r.a.createElement(N.a,{icon:m.a,size:"sm",color:"#e91e63"}),u!==O.MOBILE&&r.a.createElement(r.a.Fragment,null," Settings")),o&&r.a.createElement(re,{brushSize:t,setbrushSize:n,close:function(){c(!1)}}))},oe=function(e){var t=e.changeSlateScreenType,n=e.screenIcon,a=e.brushSize,i=e.slateType,o=e.setbrushSize,c=e.clearScreen,l=r.a.useContext(s),d=l.islocked,f=l.toggleLock,h=r.a.useContext(u).toggleRender,E=j();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid grey",width:"".concat(window.innerWidth-10,"px")}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"space-between",alignItems:"center",width:"".concat(window.innerWidth-10,"px"),height:"45px"}},r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement(ie,{brushSize:a,setbrushSize:o}),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:"25px",border:"1px solid grey"},className:"btn btn-default btn-sm initialLower",type:"button",onClick:function(){!d&&h()}},r.a.createElement(N.a,{icon:m.j,size:"sm"}),E!==O.MOBILE&&r.a.createElement(r.a.Fragment,null," Load Session Data "))),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:"25px"},className:"btn btn-warning btn-sm initialLower",type:"button",onClick:function(){!d&&t()}},r.a.createElement(N.a,{icon:n.icon,size:"sm",color:n.color}),r.a.createElement(r.a.Fragment,null," ".concat(k[i].toLocaleLowerCase())," "))),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:"25px",border:"1px solid grey"},className:"btn btn-default btn-sm",type:"button",onDoubleClick:function(){return c(2)},onClick:function(){return c(1)}},r.a.createElement(N.a,{icon:m.b,size:"sm",color:"red"}),E!==O.MOBILE&&r.a.createElement(r.a.Fragment,null," Clear "))),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:"25px"},className:"btn btn-info btn-sm",type:"button",onClick:function(){f()}},r.a.createElement(N.a,{icon:d?m.e:m.d,size:"sm"}),E!==O.MOBILE&&r.a.createElement(r.a.Fragment,null,d?" UnLock":" Lock"," "))),r.a.createElement("div",{style:{width:"10px"}})))))},ce=function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],i=r.a.useState(1),o=Object(l.a)(i,2),c=o[0],u=o[1],d=r.a.useState(k.SKETCH),f=Object(l.a)(d,2),h=f[0],E=f[1],v=r.a.useState({icon:m.f,color:"red"}),b=Object(l.a)(v,2),p=b[0],y=b[1],g=r.a.useContext(s).islocked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"50px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("h3",{style:{color:"#6610f2"}},"Web Slate")),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("span",{style:{backgroundColor:"red",color:"white",padding:"0 10px"}},g&&"Locked"),r.a.createElement("div",{style:{width:"10px"}}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",width:"100%"}},r.a.createElement(z,{clearScreenAction:n,brushSize:c,slateScreenType:h}),r.a.createElement(oe,{changeSlateScreenType:function(){h===k.SKETCH?(E(k.FOURLINE),y({icon:m.h,color:"#6f42c1"})):h===k.FOURLINE?(E(k.TWOLINE),y({icon:m.c,color:"grey"})):h===k.TWOLINE?(E(k.SINGLELINE),y({icon:m.f,color:"blue"})):h===k.SINGLELINE?(E(k.CHECKED),y({icon:m.i,color:"grey"})):(k.CHECKED,E(k.SKETCH),y({icon:m.f,color:"red"}))},screenIcon:p,brushSize:c,slateType:h,setbrushSize:u,clearScreen:function(e){(2===e||1===e)&&a(!n)}})))},le=function(e){e.initialColor;var t=e.children,n=r.a.useState("#0d6efd"),a=Object(l.a)(n,2),i=a[0],o=a[1];return r.a.createElement(d.Provider,{value:{brushColor:i,setBrushColor:o}},t)};var se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(h,null,r.a.createElement(f,null,r.a.createElement(le,null,r.a.createElement(ce,null))))))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/web-slate",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/web-slate","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.15d5de21.chunk.js.map